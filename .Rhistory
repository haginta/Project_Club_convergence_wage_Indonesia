library(ConvergenceClubs)
library(tidyverse)
library(janitor)
library(tibble)
library(readxl)
nominal.wage <- read_excel("WS Labour_new.xlsx",
sheet = "nominal_wage_B")
nominal.wage
nominal.wage <- nominal.wage %>%
select(-c(1,3:5)) %>%
subset(Province!="National")
nominal.wage.log <- log(nominal.wage[,-1])
nominal.wage.log
f.nominal.wage.log <- apply(nominal.wage.log, 1,
function(x){mFilter::hpfilter(x, freq=6.25, type="lambda")$trend} )
f.nominal.wage.log <- data.frame(Province = nominal.wage[,1], t(f.nominal.wage.log), stringsAsFactors=FALSE )
colnames(f.nominal.wage.log) <- colnames(nominal.wage)
head(f.nominal.wage.log)
H.nominal <- computeH(f.nominal.wage.log[,-1], quantity = "H")
round(estimateMod(H.nominal, time_trim=0.333, HACmethod = "FQSB"), 3)
clubs.nominal <- findClubs(f.nominal.wage.log, dataCols=2:14, unit_names = 1, refCol=14,
time_trim=0.333, cstar=0, HACmethod = 'FQSB')
summary(clubs.nominal)
print(clubs.nominal)
plot(clubs.nominal)
plot(clubs.nominal, clubs=NULL, avgTP = TRUE, legend=TRUE)
mclubs.nominal <- mergeClubs(clubs.nominal, mergeMethod='PS')
summary(mclubs.nominal)
mclubs.nominal
plot(mclubs.nominal)
plot(mclubs.nominal, clubs=NULL, avgTP = TRUE, legend=TRUE)
library(readxl)
real.wage <- read_excel("WS Labour_new.xlsx",
sheet = "real_wage_B")
real.wage
real.wage <- real.wage %>%
select(-c(1,3:5)) %>%
subset(Province!="National")
real.wage.log <- log(real.wage[,-1])
real.wage.log
f.real.wage.log <- apply(real.wage.log, 1,
function(x){mFilter::hpfilter(x, freq=6.25, type="lambda")$trend} )
f.real.wage.log <- data.frame(Province = real.wage[,1], t(f.real.wage.log), stringsAsFactors=FALSE )
colnames(f.real.wage.log) <- colnames(real.wage)
head(f.real.wage.log)
H.real <- computeH(f.real.wage.log[,-1], quantity = "H")
round(estimateMod(H.real, time_trim=0.333, HACmethod = "FQSB"), 3)
clubs.real <- findClubs(f.real.wage.log, dataCols=2:14, unit_names = 1, refCol=14,
time_trim=0.333, cstar=0, HACmethod = 'FQSB')
summary(clubs.real)
print(clubs.real)
plot(clubs.real)
plot(clubs.real, clubs=NULL, avgTP = TRUE, legend=TRUE)
mclubs.real <- mergeClubs(clubs.real, mergeMethod='PS')
summary(mclubs.real)
mclubs.real
plot(mclubs.real)
plot(mclubs.real, clubs=NULL, avgTP = TRUE, legend=TRUE)
