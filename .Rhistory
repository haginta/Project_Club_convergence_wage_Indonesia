set.seed(53)
ggplot(real.wage.long, aes(x=Year,y=Wage)) + geom_fan() +
stat_sample(aes(group=Sim), n_samples=7, size=0.2, alpha=1)
p <- ggplot(real.wage.long, aes(x=Year,y=Wage)) + geom_interval() + theme_classic()
print(p)
ggplot(real.wage.long, aes(x=Year, y=Wage)) +
geom_flquantiles(probs=c(0.25, 0.50, 0.75), fill="red", alpha=0.25)
install.packages("ggplotFL", repos="http://flr-project.org/R")
#install.packages("ggplotFL", repos="http://flr-project.org/R")
library(ggplotFL)
ggplot(real.wage.long, aes(x=Year, y=Wage)) +
geom_flquantiles(probs=c(0.25, 0.50, 0.75), fill="red", alpha=0.25)
ggplot(real.wage.long, aes(x=Year, y=Wage)) +
geom_flquantiles(probs=c(0.10, 0.25, 0.50, 0.75, 0.90), fill="red", alpha=0.25)
ggplot(real.wage.long, aes(x=Year, y=Wage)) +
geom_flquantiles(probs=c(0.25, 0.50, 0.75), fill="red", alpha=0.25) +
geom_flquantiles(probs=c(0.10, 0.90), alpha=0.15, fill="red")
ggplot(real.wage.long, aes(x=Year, y=Wage)) +
geom_flquantiles(probs=c(0.25, 0.50, 0.75), fill="red", alpha=0.25) +
geom_flquantiles(probs=c(0.10, 0.90), alpha=0.15, fill="red") + theme_bw()
ggplot(real.wage.long, aes(x=Year, y=Wage)) +
geom_flquantiles(probs=c(0.25, 0.50, 0.75), fill="red", alpha=0.25) +
geom_flquantiles(probs=c(0.10, 0.90), alpha=0.15, fill="red") + theme_classic()
ggplot(real.wage.long, aes(x=Year, y=Wage)) +
geom_flquantiles(probs=c(0.25, 0.50, 0.75), fill="red", alpha=0.25) +
geom_flquantiles(probs=c(0.10, 0.90), alpha=0.15, fill="red") + labs(x = "Time",
y = "Real wage", color="") + theme_classic()
ggplot(real.wage.long, aes(x=Year, y=Wage)) +
geom_flquantiles(probs=c(0.25, 0.50, 0.75), fill="red", alpha=0.25) +
geom_flquantiles(probs=c(0.10, 0.90), alpha=0.15, fill="red") + labs(x = "Time",
y = "Real wage", color="") + show.legend theme_classic()
#install.packages("ggplotFL", repos="http://flr-project.org/R")
library(ggplotFL)
ggplot(real.wage.long, aes(x=Year, y=Wage)) +
geom_flquantiles(probs=c(0.25, 0.50, 0.75), fill="red", alpha=0.25) +
geom_flquantiles(probs=c(0.10, 0.90), alpha=0.15, fill="red") + labs(x = "Time",
y = "Real wage", color="") + show.legend theme_classic()
ggplot(real.wage.long, aes(x=Year, y=Wage)) +
geom_flquantiles(probs=c(0.25, 0.50, 0.75), fill="red", alpha=0.25) +
geom_flquantiles(probs=c(0.10, 0.90), alpha=0.15, fill="red") + labs(x = "Time",
y = "Real wage", color="")
ggplot(real.wage.long, aes(x=Year, y=Wage)) +
geom_flquantiles(probs=c(0.25, 0.50, 0.75), fill="red", alpha=0.25) +
geom_flquantiles(probs=c(0.10, 0.90), alpha=0.15, fill="red") + labs(x = "Time",
y = "Real wage", color="") + ttheme_light())
ggplot(real.wage.long, aes(x=Year, y=Wage)) +
geom_flquantiles(probs=c(0.25, 0.50, 0.75), fill="red", alpha=0.25) +
geom_flquantiles(probs=c(0.10, 0.90), alpha=0.15, fill="red") + labs(x = "Time",
y = "Real wage", color="") + ttheme_light()
ggplot(real.wage.long, aes(x=Year, y=Wage)) +
geom_flquantiles(probs=c(0.25, 0.50, 0.75), fill="red", alpha=0.25) +
geom_flquantiles(probs=c(0.10, 0.90), alpha=0.15, fill="red") + labs(x = "Time",
y = "Real wage", color="") + theme_light()
ggplot(real.wage.long, aes(x=Year, y=Wage)) +
geom_flquantiles(probs=c(0.25, 0.50, 0.75), fill="red", alpha=0.25) +
geom_flquantiles(probs=c(0.10, 0.90), alpha=0.15, fill="red") + labs(x = "Time",
y = "Real wage", color="") + theme_classic()
ggplot(real.wage.long, aes(x=Year, y=Wage)) +
geom_flquantiles(probs=c(0.25, 0.50, 0.75), fill="red", alpha=0.25) +
geom_flquantiles(probs=c(0.10, 0.90), alpha=0.15, fill="red") + labs(x = "Time",
y = "Real wage", color="") + show.legend=T,theme_classic()
ggplot(real.wage.long, aes(x=Year, y=Wage)) +
geom_flquantiles(probs=c(0.25, 0.50, 0.75), fill="red", alpha=0.25) +
geom_flquantiles(probs=c(0.10, 0.90), alpha=0.15, fill="red") + labs(x = "Time",
y = "Real wage", color="") + show.legend=TRUE,theme_classic()
ggplot(real.wage.long, aes(x=Year, y=Wage)) +
geom_flquantiles(probs=c(0.25, 0.50, 0.75), fill="red", alpha=0.25) +
geom_flquantiles(probs=c(0.10, 0.90), alpha=0.15, fill="red") + labs(x = "Time",
y = "Real wage", color="") + theme_classic()
ggplot(real.wage.long, aes(x=Year, y=Wage)) +
geom_flquantiles(probs=c(0.25, 0.50, 0.75), fill="red", alpha=0.25) +
geom_flquantiles(probs=c(0.10, 0.90), alpha=0.15, fill="red") + labs(x = "Time",
y = "Real wage", color="", show.legend=TRUE) + theme_classic()
ggplot(real.wage.long, aes(x=Year, y=Wage)) +
geom_flquantiles(probs=c(0.25, 0.50, 0.75), fill="red", alpha=0.25) +
geom_flquantiles(probs=c(0.10, 0.90), alpha=0.15, fill="red") + labs(x = "Time",
y = "Real wage", color="", show.legend=TRUE, linetype="line") + theme_classic()
G <- ggplot(real.wage.long, aes(x=Year, y=Wage)) +
geom_flquantiles(probs=c(0.25, 0.50, 0.75), fill="red", alpha=0.25) +
geom_flquantiles(probs=c(0.10, 0.90), alpha=0.15, fill="red") + labs(x = "Time",
y = "Real wage", color="", show.legend=TRUE, linetype="line") + theme_classic()
G
ggsave("quantile.png")
G <- ggplot(real.wage.long, aes(x=Year, y=Wage)) +
geom_flquantiles(probs=c(0.25, 0.50, 0.75), fill="red", alpha=0.25) +
geom_flquantiles(probs=c(0.10, 0.90), alpha=0.35, fill="red") + labs(x = "Time",
y = "Real wage", color="", show.legend=TRUE, linetype="line") + theme_classic()
G
ggsave("quantile.png")
G <- ggplot(real.wage.long, aes(x=Year, y=Wage)) +
geom_flquantiles(probs=c(0.25, 0.50, 0.75), fill="red", alpha=0.25) , fill="red") + labs(x = "Time",
G <- ggplot(real.wage.long, aes(x=Year, y=Wage)) +
geom_flquantiles(probs=c(0.25, 0.50, 0.75), fill="red", alpha=0.25) + labs(x = "Time",
y = "Real wage", color="", show.legend=TRUE, linetype="line") + theme_classic()
G
ggsave("quantile.png")
G <- ggplot(real.wage.long, aes(x=Year, y=Wage)) +
geom_flquantiles(probs=c(0.25, 0.50, 0.75), fill="red", alpha=0.25) + labs(x = "Time",
y = "Real wage", color="") + theme_classic()
G
ggsave("quantile.png")
G <- ggplot(real.wage.long, aes(x=Year, y=Wage)) +
geom_flquantiles(probs=c(0.25, 0.50, 0.75), fill="red", alpha=0.25, show.legend=TRUE, linetype="line") + labs(x = "Time",
y = "Real wage", color="") + theme_classic()
G
G <- ggplot(real.wage.long, aes(x=Year, y=Wage)) +
geom_flquantiles(probs=c(0.25, 0.50, 0.75), fill="red", alpha=0.25, show.legend=TRUE) + labs(x = "Time",
y = "Real wage", color="") + theme_classic()
G
ggsave("quantile.png")
library(ConvergenceClubs)
library(tidyverse)
library(janitor)
library(tibble)
library(data.table)
library(readxl)
nominal.wage <- read_excel("WS Labour_new.xlsx",
sheet = "nominal_wage_A")
nominal.wage
nominal.wage <- nominal.wage %>%
select(-c(1,3:5)) %>%
subset(Province!="National")
nominal.wage.log <- log(nominal.wage[,-1])
nominal.wage.log
library(readxl)
real.wage <- read_excel("WS Labour_new.xlsx",
sheet = "real_wage_A")
real.wage
real.wage <- real.wage %>%
select(-c(1,3:5)) %>%
subset(Province!="National")
real.wage.long <- real.wage %>%
pivot_longer(!Province, names_to="Year", values_to="Wage")
View(real.wage.long)
prepare_trend_graph(real.wage.long, "Year", c("Wage"))$plot
library(ConvergenceClubs)
library(tidyverse)
library(janitor)
library(tibble)
library(data.table)
library(ExPanDaR)
prepare_trend_graph(real.wage.long, "Year", c("Wage"))$plot
real.wage.long <- as.data.frame(real.wage.long)
real.wage.long$Year <- as.Date(as.character(real.wage.long$Year), format = "%Y")
prepare_trend_graph(real.wage.long, "Year", c("Wage"))$plot
prepare_quantile_trend_graph(real.wage.long, "Year", c(0.05, 0.25, 0.5, 0.75, 0.95), "Wage", points = FALSE)$plot
prepare_quantile_trend_graph(real.wage.long, "Year", c(0.05, 0.25, 0.5, 0.75, 0.95), "Wage"$plot
prepare_quantile_trend_graph(real.wage.long, "Year", c(0.05, 0.25, 0.5, 0.75, 0.95), "Wage"$plot)
prepare_quantile_trend_graph(real.wage.long, "Year", c(0.05, 0.25, 0.5, 0.75, 0.95), "Wage")
prepare_quantile_trend_graph(real.wage.long[c("Year", "Wage")], "Year", c(0.05, 0.25, 0.5, 0.75, 0.95))
graph$plot
graph <- prepare_quantile_trend_graph(real.wage.long[c("Year", "Wage")], "Year", c(0.05, 0.25, 0.5, 0.75, 0.95))
graph$plot
prepare_quantile_trend_graph(real.wage.long, "Year", c(0.05, 0.25, 0.5, 0.75, 0.95), "Wage") +
theme(axis.text.x = element_text(face="bold", color="#993333", size=14, angle=45))
prepare_quantile_trend_graph(real.wage.long, "Year", c(0.05, 0.25, 0.5, 0.75, 0.95), "Wage") +
theme(axis.text.x = element_text(face="bold", color="#993333", size=14, angle=45))
graph +  theme(axis.text.x = element_text(face="bold", color="#993333", size=14, angle=45))
prepare_quantile_trend_graph(real.wage.long, "Year", c(0.05, 0.25, 0.5, 0.75, 0.95), "Wage") +
theme(axis.text.x = element_text(angle=45))
prepare_quantile_trend_graph(real.wage.long, "Year", c(0.05, 0.25, 0.5, 0.75, 0.95), "Wage")
real.wage.long <- real.wage %>%
pivot_longer(!Province, names_to="Year", values_to="Wage")
prepare_quantile_trend_graph(real.wage.long, "Year", c(0.05, 0.25, 0.5, 0.75, 0.95), "Wage")
graph <- prepare_quantile_trend_graph(real.wage.long[c("Year", "Wage")], "Year", c(0.05, 0.25, 0.5, 0.75, 0.95))
graph$plot
real.wage.long <- as.data.frame(real.wage.long)
real.wage.long$Year <- as.Date(as.character(real.wage.long$Year), format = "%Y")
prepare_trend_graph(real.wage.long, "Year", c("Wage"))$plot
prepare_quantile_trend_graph(real.wage.long, "Year", c(0.05, 0.25, 0.5, 0.75, 0.95), "Wage")
graph <- prepare_quantile_trend_graph(real.wage.long[c("Year", "Wage")], "Year", c(0.05, 0.25, 0.5, 0.75, 0.95))
graph$plot
prepare_quantile_trend_graph(real.wage.long, "Year", c(0.05, 0.25, 0.5, 0.75, 0.95), "Wage", points = FALSE)$plot
prepare_quantile_trend_graph(real.wage.long, "Year", c(0.05, 0.25, 0.5, 0.75, 0.95), "Wage")$plot
real.wage.long$Year <- as.factor(real.wage.long$Year)
real.wage.long <- real.wage %>%
pivot_longer(!Province, names_to="Year", values_to="Wage")
real.wage.long$Year <- as.factor(real.wage.long$Year)
prepare_trend_graph(real.wage.long, "Year", c("Wage"))$plot
prepare_quantile_trend_graph(real.wage.long, "Year", c(0.05, 0.25, 0.5, 0.75, 0.95), "Wage")$plot
graph <- prepare_quantile_trend_graph(real.wage.long[c("Year", "Wage")], "Year", c(0.05, 0.25, 0.5, 0.75, 0.95))
graph$plot
View(real.wage.long)
real.wage.long <- real.wage %>%
pivot_longer(!Province, names_to="Year", values_to="Wage")
prepare_trend_graph(real.wage.long, "Year", c("Wage"))$plot
real.wage.long <- as.data.frame(real.wage.long)
real.wage.long$Year <- as.Date(as.character(real.wage.long$Year), format = "%Y")
prepare_trend_graph(real.wage.long, "Year", c("Wage"))$plot
prepare_quantile_trend_graph(real.wage.long, "Year", c(0.05, 0.25, 0.5, 0.75, 0.95), "Wage")$plot
prepare_quantile_trend_graph(real.wage.long, "Year", c(0.05, 0.25, 0.5, 0.75, 0.95), "Wage")$plot
graph <- prepare_quantile_trend_graph(real.wage.long[c("Year", "Wage")], "Year", c(0.05, 0.25, 0.5, 0.75, 0.95))
graph$plot
prepare_quantile_trend_graph(real.wage.long, "Year", c(0.05, 0.25, 0.5, 0.75, 0.95), "Wage")$plot +
ggplot2::ylab("Life expectancy at birth world-wide")
prepare_quantile_trend_graph(real.wage.long, "Year", c(0.05, 0.25, 0.5, 0.75, 0.95), "Wage")$plot +
ggplot2::ylab("Monthly net income")
prepare_quantile_trend_graph(real.wage.long, "Year", c(0.05, 0.25, 0.5, 0.75, 0.95), "Wage")$plot +
ggplot2::ylab("Monthly net income") + theme(axis.text.x = element_text(angle = 90))
real.wage.long <- as.data.frame(real.wage.long)
real.wage.long$Year <- as.Date(as.character(real.wage.long$Year), format = "%Y")
real.wage.long <- real.wage %>%
pivot_longer(!Province, names_to="Year", values_to="Wage")
real.wage.long <- real.wage %>%
pivot_longer(!Province, names_to="Year", values_to="Wage")
prepare_quantile_trend_graph(real.wage.long, "Year", c(0.05, 0.25, 0.5, 0.75, 0.95), "Wage")$plot +
ggplot2::ylab("Monthly net income") + theme(axis.text.x = element_text(angle = 90))
real.wage.long <- as.data.frame(real.wage.long)
real.wage.long$Year <- as.Date(as.character(real.wage.long$Year), format = "%Y")
real.wage.long <- real.wage %>%
pivot_longer(!Province, names_to="Year", values_to="Wage")
prepare_trend_graph(real.wage.long, "Year", c("Wage"))$plot
prepare_quantile_trend_graph(real.wage.long, "Year", c(0.05, 0.25, 0.5, 0.75, 0.95), "Wage")$plot +
ggplot2::ylab("Monthly net income") + theme(axis.text.x = element_text(angle = 90))
prepare_quantile_trend_graph(real.wage.long, "Year", c(0.05, 0.25, 0.5, 0.75, 0.95), "Wage")$plot +
ggplot2::ylab("Monthly net income") + scale_x_discrete(limits=c("2008", "2020"))
real.wage.long <- real.wage %>%
pivot_longer(!Province, names_to="Year", values_to="Wage")
prepare_quantile_trend_graph(real.wage.long, "Year", c(0.05, 0.25, 0.5, 0.75, 0.95), "Wage")$plot +
ggplot2::ylab("Monthly net income") + scale_x_discrete(limits=c("2008", "2020"))
prepare_quantile_trend_graph(real.wage.long, "Year", c(0.05, 0.25, 0.5, 0.75, 0.95), "Wage")$plot +
ggplot2::ylab("Monthly net income") + scale_x_discrete(limits=c("2008", "2020"))
real.wage.long <- real.wage %>%
pivot_longer(!Province, names_to="Year", values_to="Wage")
prepare_trend_graph(real.wage.long, "Year", c("Wage"))$plot
prepare_quantile_trend_graph(real.wage.long, "Year", c(0.05, 0.25, 0.5, 0.75, 0.95), "Wage")$plot +
ggplot2::ylab("Monthly net income") + scale_x_discrete(limits=c("2008", "2020"))
prepare_quantile_trend_graph(real.wage.long, "Year", c(0.05, 0.25, 0.5, 0.75, 0.95), "Wage")$plot +
ggplot2::ylab("Monthly net income")
real.wage.long <- as.data.frame(real.wage.long)
real.wage.long$Year <- as.Date(as.character(real.wage.long$Year), format = "%Y")
prepare_trend_graph(real.wage.long, "Year", c("Wage"))$plot
prepare_quantile_trend_graph(real.wage.long, "Year", c(0.05, 0.25, 0.5, 0.75, 0.95), "Wage")$plot +
ggplot2::ylab("Monthly net income")
real.wage.long <- real.wage %>%
pivot_longer(!Province, names_to="Year", values_to="Wage")
real.wage.long <- as.data.frame(real.wage.long)
real.wage.long$Year <- as.Date(as.character(real.wage.long$Year), format = "%Y")
real.wage.long <- as.data.frame(real.wage.long)
real.wage.long$Year <- as.Date(as.factor(real.wage.long$Year), format = "%Y")
real.wage.long <- real.wage %>%
pivot_longer(!Province, names_to="Year", values_to="Wage")
real.wage.long <- as.data.frame(real.wage.long)
real.wage.long$Year <- as.Date(as.factor(real.wage.long$Year), format = "%Y")
real.wage.long$Year <- as.numeric(format(date, "%Y"))
real.wage.long$Year <- as.Date(format(date, "%Y"))
real.wage.long <- real.wage %>%
pivot_longer(!Province, names_to="Year", values_to="Wage")
prepare_trend_graph(real.wage.long, "Year", c("Wage"))$plot
prepare_quantile_trend_graph(real.wage.long, "Year", c(0.05, 0.25, 0.5, 0.75, 0.95), "Wage")$plot +
ggplot2::ylab("Monthly net income")
real.wage.long <- as.data.frame(real.wage.long)
real.wage.long$Year <- as.Date(as.factor(real.wage.long$Year), format = "%Y")
real.wage.long <- real.wage %>%
pivot_longer(!Province, names_to="Year", values_to="Wage")
prepare_trend_graph(real.wage.long, "Year", c("Wage"))$plot
prepare_quantile_trend_graph(real.wage.long, "Year", c(0.05, 0.25, 0.5, 0.75, 0.95), "Wage")$plot +
ggplot2::ylab("Monthly net income")
real.wage.long$Year <- as.numeric(as.factor(real.wage.long$Year), format = "%Y")
real.wage.long <- real.wage %>%
pivot_longer(!Province, names_to="Year", values_to="Wage")
real.wage.long$Year <- as.numeric(as.factor(real.wage.long$Year))
prepare_trend_graph(real.wage.long, "Year", c("Wage"))$plot
real.wage.long$Year <- as.factor(as.numeric(real.wage.long$Year))
real.wage.long <- real.wage %>%
pivot_longer(!Province, names_to="Year", values_to="Wage")
real.wage.long$Year <- as.factor(as.numeric(real.wage.long$Year))
prepare_trend_graph(real.wage.long, "Year", c("Wage"))$plot
real.wage.long <- real.wage %>%
pivot_longer(!Province, names_to="Year", values_to="Wage")
prepare_quantile_trend_graph(real.wage.long, "Year", c(0.05, 0.25, 0.5, 0.75, 0.95), "Wage")$plot +
ggplot2::ylab("Monthly net income") + scale_x_continuous(breaks = 2008:2020)
prepare_quantile_trend_graph(real.wage.long, "Year", c(0.05, 0.25, 0.5, 0.75, 0.95), "Wage")$plot +
ggplot2::ylab("Monthly net income") + scale_x_continuous(breaks = 2008:2020) + scale_y_continuous(breaks = 200:2000)
prepare_quantile_trend_graph(real.wage.long, "Year", c(0.05, 0.25, 0.5, 0.75, 0.95), "Wage")$plot +
ggplot2::ylab("Monthly net income") + scale_x_continuous(breaks = 2008:2020)
prepare_quantile_trend_graph(real.wage.long, "Year", c(0.05, 0.25, 0.5, 0.75, 0.95), "Wage")$plot +
ggplot2::ylab("Monthly net income") + scale_x_continuous(breaks = 2008:2020) + theme(axis.text.x=element_text(angle=90,hjust=1))
prepare_quantile_trend_graph(real.wage.long, "Year", c(0.05, 0.25, 0.5, 0.75, 0.95), "Wage")$plot +
ggplot2::ylab("Monthly net income") + scale_x_continuous(breaks = 2008:2020) + theme(axis.text.x=element_text(angle=90))
prepare_quantile_trend_graph(real.wage.long, "Year", c(0.05, 0.25, 0.5, 0.75, 0.95), "Wage")$plot +
ggplot2::ylab("Monthly net income") + scale_x_continuous(breaks = 2008:2020) + theme(axis.text.x=element_text(angle=90)) + theme_classic()
prepare_quantile_trend_graph(real.wage.long, "Year", c(0.05, 0.25, 0.5, 0.75, 0.95), "Wage")$plot +
ggplot2::ylab("Monthly net income") + scale_x_continuous(breaks = 2008:2020) +
theme_classic() + theme(axis.text.x=element_text(angle=90))
prepare_quantile_trend_graph(real.wage.long, "Year", c(0.05, 0.25, 0.5, 0.75, 0.95), "Wage")$plot +
ggplot2::ylab("Monthly net income") + scale_x_continuous(breaks = 2008:2020) +
theme_classic() + theme(axis.text.x=element_text(angle=90)) + geom_line()
prepare_quantile_trend_graph(real.wage.long, "Year", c(0.05, 0.25, 0.5, 0.75, 0.95), "Wage")$plot +
ggplot2::ylab("Monthly net income") + scale_x_continuous(breaks = 2008:2020) +
theme_classic() + theme(axis.text.x=element_text(angle=90))
library(readxl)
real.wage <- read_excel("WS Labour_new.xlsx",
sheet = "real_wage_A")
real.wage
real.wage <- real.wage %>%
select(-c(1,3:5)) %>%
subset(Province!="National")
library(ConvergenceClubs)
library(tidyverse)
library(janitor)
library(tibble)
library(data.table)
library(ExPanDaR)
real.wage <- real.wage %>%
select(-c(1,3:5)) %>%
subset(Province!="National")
real.wage.long <- real.wage %>%
pivot_longer(!Province, names_to="Year", values_to="Wage")
real.wage.long <- as.data.frame(real.wage.long)
real.wage.long$Year <- as.Date(as.factor(real.wage.long$Year), format = "%Y")
real.wage.long$Year <- as.factor(as.numeric(real.wage.long$Year))
prepare_trend_graph(real.wage.long, "Year", c("Wage"))$plot
prepare_quantile_trend_graph(real.wage.long, "Year", c(0.05, 0.25, 0.5, 0.75, 0.95), "Wage")$plot +
ggplot2::ylab("Wage") + scale_x_continuous(breaks = 2008:2020) +
theme_classic() + theme(axis.text.x=element_text(angle=90))
prepare_quantile_trend_graph(real.wage.long, "Year", c(0.05, 0.25, 0.5, 0.75, 0.95), "Wage")$plot +
ggplot2::ylab("Wage") + scale_x_continuous(breaks = 2008:2020) +
theme_classic() + theme(axis.text.x=element_text(angle=90))
library(readxl)
real.wage <- read_excel("WS Labour_new.xlsx",
sheet = "real_wage_A")
real.wage
real.wage <- real.wage %>%
select(-c(1,3:5)) %>%
subset(Province!="National")
real.wage.long <- real.wage %>%
pivot_longer(!Province, names_to="Year", values_to="Wage")
real.wage.long <- as.data.frame(real.wage.long)
real.wage.long$Year <- as.Date(as.factor(real.wage.long$Year), format = "%Y")
real.wage.long$Year <- as.factor(as.numeric(real.wage.long$Year))
real.wage.long$Year <- as.factor(as.numeric(real.wage.long$Year))
prepare_trend_graph(real.wage.long, "Year", c("Wage"))$plot
prepare_quantile_trend_graph(real.wage.long, "Year", c(0.05, 0.25, 0.5, 0.75, 0.95), "Wage")$plot +
ggplot2::ylab("Wage") + scale_x_continuous(breaks = 2008:2020) +
theme_classic() + theme(axis.text.x=element_text(angle=90))
View(real.wage.long)
graph <- prepare_quantile_trend_graph(real.wage.long[c("Year", "Wage")], "Year", c(0.05, 0.25, 0.5, 0.75, 0.95))
graph$plot
graph <- real.wage.long %>%
ggplot(aes(x = Year, y = Wage, group=Province)) +
geom_line(size=0.5, color = "dark gray") +
labs(x = "Time",
y = "Average real wage per month (thousand IDR)", color="") +
theme(text=element_text( family="Palatino")) + theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank(),
panel.background = element_blank(), axis.line = element_line(colour = "black"))
guides(col = guide_legend(nrow = 8))
graph
ggsave("wage_all.png", width = 9, height = 5)
library(readxl)
real.wage <- read_excel("WS Labour_new.xlsx",
sheet = "real_wage_A")
real.wage
real.wage <- real.wage %>%
select(-c(1,3:5)) %>%
subset(Province!="National")
real.wage.long <- real.wage %>%
pivot_longer(!Province, names_to="Year", values_to="Wage")
real.wage.long <- as.data.frame(real.wage.long)
real.wage.long$Year <- as.Date(as.factor(real.wage.long$Year), format = "%Y")
real.wage.long$Year <- as.factor(as.numeric(real.wage.long$Year))
real.wage.long$Year <- as.factor(as.numeric(real.wage.long$Year))
real.wage <- real.wage %>%
select(-c(1,3:5)) %>%
subset(Province!="National")
library(readxl)
real.wage <- read_excel("WS Labour_new.xlsx",
sheet = "real_wage_A")
real.wage
real.wage <- real.wage %>%
select(-c(1,3:5)) %>%
subset(Province!="National")
real.wage.long <- real.wage %>%
pivot_longer(!Province, names_to="Year", values_to="Wage")
prepare_quantile_trend_graph(real.wage.long, "Year", c(0.05, 0.25, 0.5, 0.75, 0.95), "Wage")$plot +
ggplot2::ylab("Wage") + scale_x_continuous(breaks = 2008:2020) +
theme_classic() + theme(axis.text.x=element_text(angle=90))
prepare_quantile_trend_graph(real.wage.long, "Year", c(0.05, 0.25, 0.5, 0.75, 0.95), "Wage")$plot +
ggplot2::ylab("Wage (000 IDR")) + scale_x_continuous(breaks = 2008:2020) +
prepare_quantile_trend_graph(real.wage.long, "Year", c(0.05, 0.25, 0.5, 0.75, 0.95), "Wage")$plot +
ggplot2::ylab("Wage") + scale_x_continuous(breaks = 2008:2020) +
theme_classic() + theme(axis.text.x=element_text(angle=90))
prepare_quantile_trend_graph(real.wage.long, "Year", c(0.05, 0.25, 0.5, 0.75, 0.95), "Wage")$plot +
ggplot2::ylab("Wage (000 IDR)") + scale_x_continuous(breaks = 2008:2020) +
theme_classic() + theme(axis.text.x=element_text(angle=90))
prepare_quantile_trend_graph(real.wage.long, "Year", c(0.05, 0.25, 0.5, 0.75, 0.95), "Wage")$plot +
ggplot2::ylab("Wage (000 IDR)") + scale_x_continuous(breaks = 2008:2020) +
theme_classic() + theme(axis.text.x=element_text(angle=90))
ggsave("wage_quantile.png", width = 9, height = 5)
library(skimr)
View(real.wage)
real.wage %>%
group_by(Province) %>%
skim()
real.wage.long %>%
group_by(Province ) %>%
skim()
real.wage.long %>%
group_by(Province, year) %>%
skim()
real.wage.long %>%
group_by(Province, Year) %>%
skim()
real.wage.long %>%
group_by(Province) %>%
skim()
desc <- real.wage.long %>%
group_by(Province) %>%
skim()
View(desc)
desc <- desc %>%
drop_na()
desc <- real.wage.long %>%
group_by(Province) %>%
skim()
desc <- desc %>%
select(!c(4:10))
drop_na()
desc <- desc %>%
select(!c(4:10)) %>%
drop_na()
desc <- desc %>%
select(!c(4:10))
desc <- real.wage.long %>%
group_by(Province) %>%
skim()
desc <- desc %>%
select(!c(4:10))
desc <- desc %>%
select(!c(4:10)) %>%
drop_na()
desc <- real.wage.long %>%
group_by(Province) %>%
skim()
desc <- desc %>%
select(!c(4:10))
desc <- desc %>%
drop_na()
desc <- real.wage.long %>%
group_by(Province) %>%
skim()
desc <- desc %>%
select(!c(4:10))
desc <- desc %>%
drop_na() %>%
write_excel_csv("desc_stat")
desc <- real.wage.long %>%
group_by(Province) %>%
skim()
desc <- desc %>%
select(!c(4:10))
desc <- desc %>%
drop_na() %>%
write_excel_csv("desc_stat.xlsx")
desc <- real.wage.long %>%
group_by(Province) %>%
skim()
desc <- desc %>%
select(!c(4:10))
desc <- desc %>%
drop_na() %>%
write_excel("desc_stat.xlsx")
desc <- desc %>%
drop_na() %>%
write_excel_csv2("desc_stat.xlsx")
desc <- real.wage.long %>%
group_by(Province) %>%
skim()
desc <- desc %>%
select(!c(4:10))
desc <- desc %>%
drop_na() %>%
write_excel_csv2("desc_stat.csv")
library(readxl)
real.wage <- read_excel("WS Labour_new.xlsx",
sheet = "real_wage_A")
real.wage
real.wage <- real.wage %>%
select(-c(1,3:5)) %>%
subset(Province!="National")
library(ConvergenceClubs)
library(tidyverse)
library(janitor)
library(tibble)
library(data.table)
library(ExPanDaR)
real.wage <- real.wage %>%
select(-c(1,3:5)) %>%
subset(Province!="National")
real.wage.long <- real.wage %>%
pivot_longer(!Province, names_to="Year", values_to="Wage")
real.wage.log <- log(real.wage[,-1])
real.wage.log
f.real.wage.log <- apply(real.wage.log, 1,
function(x){mFilter::hpfilter(x, freq=6.25, type="lambda")$trend} )
f.real.wage.log <- data.frame(Province = real.wage[,1], t(f.real.wage.log), stringsAsFactors=FALSE )
colnames(f.real.wage.log) <- colnames(real.wage)
head(f.real.wage.log)
H.real <- computeH(f.real.wage.log[,-1], quantity = "H")
round(estimateMod(H.real, time_trim=0.333, HACmethod = "FQSB"), 3)
clubs.real <- findClubs(f.real.wage.log, dataCols=2:14, unit_names = 1, refCol=14,
time_trim=0.333, cstar=0, HACmethod = 'FQSB')
summary(clubs.real)
mclubs.real <- mergeClubs(clubs.real, mergeMethod='PS')
summary(mclubs.real)
mclubs.real
mclubs.real <- mergeClubs(clubs.real, mergeMethod='PS')
summary(mclubs.real)
library(readxl)
logit <- read_excel("WS Labour_new.xlsx",
sheet = "logit")
logit
